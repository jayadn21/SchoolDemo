<ngx-spinner type="ball-clip-rotate-pulse"></ngx-spinner>
<div class="page-body">
  <div class="col-md-12 col-lg-12">
    <app-card [title]="" [cardOptionBlock]="true">
      <h5>Accounting (Fees Template)</h5>
      <hr>
      <div ngbDropdown class="dropdown-primary">
        <button ngbDropdownToggle class="btn btn-primary waves-effect waves-light " type="button">Fees
          Management</button>
        <div ngbDropdownMenu>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Statements</a>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Direct Payments</a>
          <!-- <a class="dropdown-item waves-light waves-effect" href="javascript:">Something else here</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item waves-light waves-effect" href="javascript:">Something else here</a>  -->
        </div>
      </div>
      &nbsp;
      &nbsp;
      &nbsp;
      &nbsp;

      <div ngbDropdown class="dropdown-success">
        <button ngbDropdownToggle class="btn btn-success waves-effect waves-light " type="button">Transactions</button>
        <div ngbDropdownMenu>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Indirect Income</a>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Expense</a>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Bills</a>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Internal Transactions</a>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Journal Transactions</a>
        </div>
      </div>

      &nbsp;
      &nbsp;
      &nbsp;
      &nbsp;

      <button class="btn btn-success ">Payroll</button>

      &nbsp;
      &nbsp;
      &nbsp;
      &nbsp;

      <div ngbDropdown class="dropdown-info">
        <button ngbDropdownToggle class="btn btn-success waves-effect waves-light " type="button">Reports</button>
        <div ngbDropdownMenu>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Fees Reports</a>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Profit and Loss</a>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Balance Sheet</a>
          <a class="dropdown-item waves-light waves-effect" href="javascript:">Trial Balance</a>
        </div>
      </div>

      &nbsp;
      &nbsp;
      &nbsp;
      &nbsp;

      <div ngbDropdown class="dropdown-warning">
        <button ngbDropdownToggle class="btn btn-success waves-effect waves-light " type="button">Settings</button>
        <div ngbDropdownMenu>
          <div *ngFor="let menuItem of accountingMenu">
            <a class="dropdown-item waves-light waves-effect" [routerLink]="[menuItem.ModuleName,menuItem.routerLink]"
              href="javascript:">{{menuItem.Name}}</a>
          </div>
        </div>
      </div>
    </app-card>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <app-card [title]="FeesTemplate" [classHeader]="true">
        <div class="mt-3">
          <font size="3">Manage Fees Template</font>
        </div>
        <div style="text-align: center">
          <!-- <h5>{{Headingtext}}</h5>
        <br> -->
          <div class="mt-3">
            <div class="col-sm-12">
              <input type="text" class="form-control" name="Name" placeholder="Template Name"
                [(ngModel)]="feestemplate.Name" #Name="ngModel" required>
              <span class="md-line"></span>
            </div>
          </div>
          <div class="mt-3">
            <div class="col-sm-12">
              <form class="form-inline">
                <div class="form-group">
                  <div class="input-group">
                    <input class="form-control" placeholder="Due Date" name="dp" [(ngModel)]="model" ngbDatepicker
                      #d="ngbDatepicker">
                    <div class="input-group-append">
                      <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button">
                        <i class="fa">&#xf073;</i></button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="mt-3">
            <div class="col-sm-12">
              <select class="browser-default custom-select" [(ngModel)]="feestemplate.FeesHeaderId"
                #FeesHeaderId="ngModel" required>
                <option value="-1" disabled='true'>--Select Fees Header--</option>
                <option *ngFor="let fees of fessTemplateList" value={{fees.Id}}>{{fees.Name}} </option>
              </select>
            </div>
          </div>
          <div class="mt-3">
            <div class="col-sm-12">
              <select class="browser-default custom-select" [(ngModel)]="feestemplate.AcademicYearId"
                #AcademicYearId="ngModel" required>
                <option value="-1" disabled='true'>--Select Academic Year--</option>
                <option *ngFor="let acad of accountingyear" value={{acad.Id}}>{{acad.AcademicYear}} </option>
              </select>
            </div>
          </div>
          <div class="mt-3">
            <div class="col-sm-12">
              <select class="browser-default custom-select" [(ngModel)]="feestemplate.ClassSectionMediumId"
                #ClassSectionMediumId="ngModel" required>
                <option value="-1" disabled='true'>--Select Class--</option>
                <option *ngFor="let med of newclasssection" value={{med.Id}}>{{med.Name}} </option>
              </select>
            </div>
          </div>
          <div class="mt-3">
            <div class="col-sm-12">
              <div class="form-group">
                <textarea class="form-control" placeholder="More Information" id="exampleFormControlTextarea3"
                  rows="7"></textarea>
              </div>
            </div>
          </div>
          <!-- <input type="text" name="Fees Template" placeholder="Name" [(ngModel)]="feestemplate.Name"
          #Name="ngModel" required>
        <br>
        <br> -->
          <br>
          <button type="button" class="btn btn-primary" id="saveFeesTemplate" (click)="saveFeesTemplate()"
            (click)="cleardata()" type="submit">{{Buttontext}}</button>
          &nbsp;
          &nbsp;
          &nbsp;
          &nbsp;
          <button type="button" class="btn btn-danger" (click)="cleardata()">Cancel</button>
        </div>
      </app-card>
    </div>
    <div class="col-sm-6">
      <app-card [title]="FeesTemplate" [classHeader]="true">
        <div class="table-responsive">
          <h5>Fees Template</h5>
          <hr>
          <ng2-smart-table [settings]="settings" [source]="feesTemplatesGrid" (deleteConfirm)="onDeleteConfirm($event)"
            (editConfirm)="onSaveConfirm($event)" (createConfirm)="onCreateConfirm($event)"
            (custom)="onCustomAction($event)">
          </ng2-smart-table>
        </div>
      </app-card>
    </div>
    <!-- <div class="col-sm-12">
    <app-card [title]="Description" [classHeader]="true">
      <ng2-smart-table [settings]="setting" [source]="DescriptionFeesTemp" (deleteConfirm)="onDeleteConfirm($event)"
        (editConfirm)="onSaveConfirm($event)" (createConfirm)="onCreateConfirm($event)"
        (custom)="onCustomAction($event)">
      </ng2-smart-table>
    </app-card>
  </div> -->
  </div>
</div>

<div class="col-sm-12">
  <app-card [title]="Description" [classHeader]="true">
    <input #search class="search" type="text" placeholder="Search..." (keydown.enter)="onSearch(search.value)">
    <ng2-smart-table [settings]="setting1" [source]="feestemplateMapp" (deleteConfirm)="onDeleteConfirm($event)"
      (editConfirm)="onSaveConfirm($event)" (createConfirm)="onCreateConfirm($event)"></ng2-smart-table>
  </app-card>
</div>

<div class="col-sm-12">
  <app-card>
    <!-- <div class="container"> -->
    <br>
    <div class="row">
      <div class="col-sm-12">
        <table class="table table-striped table-bordered col-lg-12">
          <caption><i>Add/remove textbox and chip dynamically in Angular 6</i></caption>
          <thead>
            <tr>
              <th>Item Name
                <a (click)="onEditCloseItems()" class="text-info float-right">
                  <i class="mdi mdi-{{isEditItems ? 'close' : 'pencil'}} mdi-18px"></i>
                </a>
              </th>
            </tr>
          </thead>

          <tbody *ngIf="!isEditItems">
            <tr *ngIf="firstField">
              <td>
                <i (click)="firstField = false" class="mdi mdi-close mdi-18px"></i> {{firstFieldName}}
              </td>
            </tr>
            <tr *ngFor="let field of fieldArray; let i = index">
              <td *ngIf="field?.name">
                <i (click)="deleteFieldValue(i)" class="mdi mdi-close mdi-18px"></i> {{field.name}}</td>
            </tr>
          </tbody>

          <tbody *ngIf="isEditItems">
            <tr>
              <td *ngIf="firstField">
                <div class="row">
                  <div class="col-sm-4">
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <div (click)="firstField = false" class="input-group-text"><i
                            class="mdi mdi-close mdi-18px"></i>
                        </div>
                      </div>
                      <input [(ngModel)]="firstFieldName" class="form-control py-2 " type="text" name="firstFieldName"
                        placeholder="Item Name">
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <div (click)="firstField = false" class="input-group-text"><i
                            class="mdi mdi-close mdi-18px"></i>
                        </div>
                      </div>
                      <input [(ngModel)]="firstFieldName" class="form-control py-2 " type="text" name="firstFieldName"
                        placeholder="Item Name">
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <div (click)="firstField = false" class="input-group-text"><i
                            class="mdi mdi-close mdi-18px"></i>
                        </div>
                      </div>
                      <input [(ngModel)]="firstFieldName" class="form-control py-2 " type="text" name="firstFieldName"
                        placeholder="Item Name">
                    </div>
                  </div>
                </div>
              </td>
            </tr>
            <tr *ngFor="let field of fieldArray; let i = index">
              <td>
                <div class="row">
                <div class="col-sm-4">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div (click)="deleteFieldValue(i)" class="input-group-text"><i class="mdi mdi-close mdi-18px"></i>
                      </div>
                    </div>
                    <input [(ngModel)]="field.name" class="form-control" type="text" name="{{field.name}}"
                      placeholder="Item Name">
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div (click)="deleteFieldValue(i)" class="input-group-text"><i class="mdi mdi-close mdi-18px"></i>
                      </div>
                    </div>
                    <input [(ngModel)]="field.name" class="form-control" type="text" name="{{field.name}}"
                      placeholder="Item Name">
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <div (click)="deleteFieldValue(i)" class="input-group-text"><i class="mdi mdi-close mdi-18px"></i>
                      </div>
                    </div>
                    <input [(ngModel)]="field.name" class="form-control" type="text" name="{{field.name}}"
                      placeholder="Item Name">
                  </div>
                </div>
              </div>
              </td>
            </tr>
            <tr>
              <td align="right">
                <button *ngIf="fieldArray.length <= 5" class="btn btn-success btn-sm" type="button"
                  (click)="addFieldValue()" style="margin-right:10px">Add More Item</button>
                <button (click)="onEditCloseItems()" class="btn btn-primary btn-sm" type="button">Save Items</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- </div> -->
  </app-card>
</div>
